{% assign slider_id = section.id | replace: '_', '' | downcase %}

{% render 'item-slider', 
  slider_id: slider_id,
  items: section.blocks,
  title: section.settings.title,
  subtitle: section.settings.subtitle,
  slides_desktop: section.settings.slides_desktop,
  slides_tablet: section.settings.slides_tablet,
  slides_mobile: section.settings.slides_mobile,
  card_spacing: section.settings.card_spacing,
  autoplay: section.settings.autoplay,
  show_navigation: section.settings.show_navigation,
  show_dots: section.settings.show_dots
%}

{% schema %}
{
  "name": "Item Slider",
  "settings": [
    { "type": "text", "id": "title", "label": "Title", "default": "Featured Items" },
    { "type": "text", "id": "subtitle", "label": "Subtitle", "default": "Sub Heading" },
    { "type": "range", "id": "slides_desktop", "label": "Slides per view (Desktop)", "min": 1, "max": 4, "step": 1, "default": 3 },
    { "type": "range", "id": "slides_tablet", "label": "Slides per view (Tablet)", "min": 1, "max": 3, "step": 1, "default": 2 },
    { "type": "select", "id": "slides_mobile", "label": "Slides per view (Mobile)", "options": [{"value":"1","label":"1"},{"value":"2","label":"2"}], "default":"1" },
    { "type": "range", "id": "card_spacing", "label": "Card spacing", "min": 0, "max": 40, "step": 4, "default": 16 },
    { "type": "checkbox", "id": "autoplay", "label": "Enable autoplay", "default": false },
    { "type": "checkbox", "id": "show_navigation", "label": "Show navigation arrows", "default": true },
    { "type": "checkbox", "id": "show_dots", "label": "Show dots", "default": true }
  ],
  "blocks": [
    {
      "type": "item",
      "name": "Item",
      "settings": [
        { "type": "image_picker", "id": "image", "label": "Image" },
        { "type": "text", "id": "title", "label": "Title" },
        { "type": "url", "id": "link", "label": "Link" }
      ]
    }
  ],
  "presets": [
    { "name": "Item Slider" }
  ]
}
{% endschema %}
