
{% capture mobile_cols_class %}sm:grid-cols-{{ block.settings.columns_mobile }}{% endcapture %}

{% capture mobile_cols_class %}sm:grid-cols-{{ section.settings.columns_mobile }}{% endcapture %}

<div class="w-full" {{ section.shopify_attributes }}>
  <div
    class="mx-auto px-5 w-full"
    style="max-width: {{ section.settings.max_width }}px; padding-top: {{ section.settings.section_padding }}px; padding-bottom: {{ section.settings.section_padding }}px;"
  >
    <div class="grid {{ mobile_cols_class }} md:grid-cols-2 lg:grid-cols-4" style="gap: {{ section.settings.grid_gap }}px;">
      {% assign has_products = false %}
      {% for i in (1..8) %}
        {% assign product_key = 'product_' | append: i %}
        {% assign product = section.settings[product_key] %}

        {% if product != blank %}
          {% assign has_products = true %}
          <section class="bg-transparent">
            {% render 'product-card',
              product: product,
              show_vendor: section.settings.show_vendor,
              show_compare_price: section.settings.show_compare_price,
              card_background: section.settings.card_background,
              card_border_radius: section.settings.card_border_radius,
              card_padding: section.settings.card_padding,
              title_size: section.settings.product_title_size,
              title_color: section.settings.product_title_color,
              price_size: section.settings.price_size,
              price_color: section.settings.price_color
            %}
          </section>
        {% endif %}
      {% endfor %}

      {% unless has_products %}
        <div class="col-span-full text-center py-16 text-gray-600">Select up to 8 products to display in this grid</div>
      {% endunless %}
    </div>
  </div>
</div>


{% schema %}
{
  "name": "Product grid",
  "settings": [
    {
      "type": "header",
      "content": "Products"
    },
    {
      "type": "product",
      "id": "product_1",
      "label": "Product 1"
    },
    {
      "type": "product",
      "id": "product_2",
      "label": "Product 2"
    },
    {
      "type": "product",
      "id": "product_3",
      "label": "Product 3"
    },
    {
      "type": "product",
      "id": "product_4",
      "label": "Product 4"
    },
    {
      "type": "product",
      "id": "product_5",
      "label": "Product 5"
    },
    {
      "type": "product",
      "id": "product_6",
      "label": "Product 6"
    },
    {
      "type": "product",
      "id": "product_7",
      "label": "Product 7"
    },
    {
      "type": "product",
      "id": "product_8",
      "label": "Product 8"
    },
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "range",
      "id": "max_width",
      "label": "Maximum width",
      "min": 600,
      "max": 1600,
      "step": 100,
      "unit": "px",
      "default": 1200
    },
    {
      "type": "range",
      "id": "section_padding",
      "label": "Section padding",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "default": 40
    },
    {
      "type": "range",
      "id": "grid_gap",
      "label": "Grid gap",
      "min": 10,
      "max": 50,
      "step": 5,
      "unit": "px",
      "default": 20
    },
    {
      "type": "select",
      "id": "columns_mobile",
      "label": "Columns on mobile",
      "options": [
        {
          "value": "1",
          "label": "1"
        },
        {
          "value": "2",
          "label": "2"
        }
      ],
      "default": "2"
    },
    {
      "type": "header",
      "content": "Card style"
    },
    
    {
      "type": "checkbox",
      "id": "show_compare_price",
      "label": "Show compare at price",
      "default": true
    },
    {
      "type": "color",
      "id": "card_background",
      "label": "Background",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "card_border_radius",
      "label": "Border radius",
      "min": 0,
      "max": 30,
      "step": 2,
      "unit": "px",
      "default": 8
    },
    {
      "type": "color",
      "id": "card_border",
      "label": "Border Color",
      "default": "#D6D4D4"
    },
    {
      "type": "range",
      "id": "card_padding",
      "label": "Padding",
      "min": 10,
      "max": 40,
      "step": 5,
      "unit": "px",
      "default": 15
    },
    {
      "type": "header",
      "content": "Typography"
    },
    {
      "type": "range",
      "id": "heading_size",
      "label": "Heading size",
      "min": 20,
      "max": 60,
      "step": 2,
      "unit": "px",
      "default": 32
    },
    {
      "type": "range",
      "id": "heading_spacing",
      "label": "Heading spacing",
      "min": 10,
      "max": 60,
      "step": 5,
      "unit": "px",
      "default": 30
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "product_title_size",
      "label": "Product title size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "default": 16
    },
    {
      "type": "color",
      "id": "product_title_color",
      "label": "Product title color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "product_title_hover_color",
      "label": "Product title hover color",
      "default": "#666666"
    },
    {
      "type": "range",
      "id": "price_size",
      "label": "Price size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "default": 14
    },
    {
      "type": "color",
      "id": "price_color",
      "label": "Price color",
      "default": "#000000"
    }
  ],
  "presets": [
    {
      "name": "Product grid"
    }
  ]
}
{% endschema %}
