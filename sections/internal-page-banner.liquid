<section id="section-{{ section.id }}" class="internal-page-banner" style="position:relative; overflow:hidden;">
  <div id="section-bg-{{ section.id }}" class="internal-page-banner__bg" aria-hidden="true"></div>

  <style>
    #section-bg-{{ section.id }} {
      background-image: url('{{ section.settings.background | img_url: 'master' }}');
      background-size: cover;
      background-position: center;
      position: absolute;
      inset: 0;
      z-index: 0;
    }
    @media (max-width: 749px) {
      #section-bg-{{ section.id }}{
        background-image: url('{{ section.settings.mobile_background | img_url: 'master' }}');
      }
    }
    #section-{{ section.id }} .internal-page-banner__content{ position:relative; z-index:2; padding: 3rem 1rem; }
  </style>

  <div class="internal-page-banner__content container">
    {% comment %}Heading / subheading rendered via reusable text snippet{% endcomment %}
    {% if section.settings.heading != blank %}
      {% assign heading_id = 'heading-' | append: section.id %}
      {% render 'reusable-text',
        id: heading_id,
        text: section.settings.heading,
        font: section.settings.heading_font,
        font_size: section.settings.heading_font_size,
        font_weight: section.settings.heading_font_weight,
        color: section.settings.heading_color
      %}
    {% endif %}

    {% if section.settings.subheading != blank %}
      {% assign sub_id = 'subheading-' | append: section.id %}
      {% render 'reusable-text',
        id: sub_id,
        text: section.settings.subheading,
        font: section.settings.subheading_font,
        font_size: section.settings.subheading_font_size,
        font_weight: section.settings.subheading_font_weight,
        color: section.settings.subheading_color
      %}
    {% endif %}

    <div class="internal-page-banner__buttons">
      {% if section.settings.button1_text != blank %}
        {% assign b1 = 'btn1-' | append: section.id %}
        {% render 'reusable-button',
          id: b1,
          text: section.settings.button1_text,
          url: section.settings.button1_link,
          font: section.settings.button1_font,
          font_size: section.settings.button1_font_size,
          font_weight: section.settings.button1_font_weight,
          text_color: section.settings.button1_text_color,
          bg_color: section.settings.button1_bg_color,
          border_radius: section.settings.button1_border_radius,
          hover_bg: section.settings.button1_hover_bg,
          hover_text_color: section.settings.button1_hover_text_color,
          extra_class: 'button-1'
        %}
      {% endif %}
      {% if section.settings.button2_text != blank %}
        {% assign b2 = 'btn2-' | append: section.id %}
        {% render 'reusable-button',
          id: b2,
          text: section.settings.button2_text,
          url: section.settings.button2_link,
          font: section.settings.button2_font,
          font_size: section.settings.button2_font_size,
          font_weight: section.settings.button2_font_weight,
          text_color: section.settings.button2_text_color,
          bg_color: section.settings.button2_bg_color,
          border_radius: section.settings.button2_border_radius,
          hover_bg: section.settings.button2_hover_bg,
          hover_text_color: section.settings.button2_hover_text_color,
          extra_class: 'button-2'
        %}
      {% endif %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Single Banner",
  "tag": "section",
  "class": "internal-page-banner",
  "limit": 1,
  "settings": [
    {
      "type": "image_picker",
      "id": "background",
      "label": "Image on desktop",
      "info": "1920 x 900px recommended"
    },
    {
      "type": "image_picker",
      "id": "mobile_background",
      "label": "Image on mobile",
      "info": "800 x 600px recommended"
    },
    {
      "type": "select",
      "id": "content_position",
      "label": "Content position",
      "default": "left",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "right", "label": "Right" }
      ]
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Single Banner"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading color",
      "default": "#FFDC06"
    },

    {
      "type": "richtext",
      "id": "subheading",
      "label": "Subheading",
      "default": "Subheading text goes here."
    },
    {
      "type": "color",
      "id": "subheading_color",
      "label": "Subheading color",
      "default": "#000000"
    },

    {
      "type": "text",
      "id": "button1_text",
      "label": "Button 1 text",
      "default": "Shop Now"
    },
    {
      "type": "url",
      "id": "button1_link",
      "label": "Button 1 link",
      "default": "/"
    },
    {
      "type": "color",
      "id": "button1_text_color",
      "label": "Button 1 text color",
      "default": "#2C2C2C"
    },
    {
      "type": "color",
      "id": "button1_bg_color",
      "label": "Button 1 background",
      "default": "#FDDC14"
    },
    {
      "type": "text",
      "id": "button2_text",
      "label": "Button 2 text",
      "default": "Get Directions"
    },
    {
      "type": "url",
      "id": "button2_link",
      "label": "Button 2 link",
      "default": "/"
    },

    {
      "type": "color",
      "id": "button2_text_color",
      "label": "Button 2 text color",
      "default": "#2C2C2C"
    },
    {
      "type": "color",
      "id": "button2_bg_color",
      "label": "Button 2 background",
      "default": "#ffffff"
    }
  ],

  "presets": [
    {
      "name": "Single Banner",
      "settings": {
        "heading": "Single Banner"
      }
    }
  ],
  "locales": {
    "en": {
      "title": "Single Banner"
    }
  }
}
{% endschema %}
