<html>
  <head>
    <title>
      {{- page_title -}}
      {%- if current_tags -%}
        {%- assign meta_tags = current_tags | join: ', ' %} &ndash; {{ 'general.meta.tags' | t: tags: meta_tags -}}
      {%- endif -%}
      {%- if current_page != 1 %} &ndash; {{ 'general.meta.page' | t: page: current_page }}{% endif -%}
      {%- if template == 'password' -%}
        {{- shop.name -}}
      {%- else -%}
        {%- unless page_title contains shop.name %} &ndash; {{ shop.name }}{% endunless -%}
      {%- endif -%}
    </title>

    {%- if page_description -%}
      <meta name="description" content="{{ page_description | escape }}">
    {%- endif -%}

    {{ content_for_header }}

    {% comment %}
      Load Poppins from Google Fonts and set as CSS variable for Tailwind
    {% endcomment %}

    {% assign font_handle = settings.type_base_font | default: 'poppins_n4' %}

    <!-- Load Poppins from Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

    <style>
      :root {
        /* Force Poppins as the default font for the theme */
        --default-font-family: 'Poppins', sans-serif;
      }

      /* Ensure common weight classes use Poppins */
      .font-normal { font-family: 'Poppins', sans-serif !important; font-weight: 400; }
      .font-semibold { font-family: 'Poppins', sans-serif !important; font-weight: 600; }
      .font-bold { font-family: 'Poppins', sans-serif !important; font-weight: 700; }
    </style>
    {{ 'glide.core.min.css' | asset_url | stylesheet_tag }}
    {{ 'tailwind.output.css' | asset_url | stylesheet_tag }}
    {{ 'global.css' | asset_url | stylesheet_tag }}
    {%- if template == 'product' -%}
      {{ 'product.css' | asset_url | stylesheet_tag }}
    {%- endif -%}
  </head>
  <body class="font-normal">
    {% sections 'header-group' %}
    <main id="main" role="main">
      {{ content_for_layout }}
    </main>
    <script defer src="{{ 'glide.min.js' | asset_url }}"></script>
    {%- if template == 'product' -%}
      <script defer src="{{ 'product-details.js' | asset_url }}"></script>
    {%- endif -%}
    <script defer src="{{ 'cart.js' | asset_url }}"></script>
    <script defer src="{{ 'theme.js' | asset_url }}"></script>
    <script defer src="{{ 'cart-item-control.js' | asset_url }}"></script>
    {% sections 'footer-group' %}
  </body>
</html>
