{%- assign sl = shop.brand.metafields.social_links -%}
{% liquid
  assign icon_size = icon_size | default: 'size-8'
  assign icon_color = icon_color | default: 'text-black'
  assign icon_background = icon_background | default: 'bg-transparent'
  assign icon_border = icon_border | default: 'rounded-none'
  assign icon_wrapper_class = icon_wrapper_class | default: ' '
%}

{%- comment -%} Automatic social links from shop metafields {%- endcomment -%}
{%- if sl != blank -%}
  {% comment %} facebook {% endcomment %}
  {% assign fb_url = sl.facebook.value | default: sl.facebook %}
  {% if fb_url != blank %}
    <a
      href="{{ fb_url }}"
      class="inline-flex items-center gap-2 {{ icon_color}} {{ icon_background }} {{ icon_border }} {{ icon_wrapper_class }}"
      target="_blank"
      rel="noopener noreferrer"
    >
      <span class="sr-only">Facebook</span>
      {% render 'icon-svg-facebook-solid', class: icon_size, stroke_width: 0 %}
    </a>
  {% endif %}

  {% comment %} instagram {% endcomment %}
  {% assign ig_url = sl.instagram.value | default: sl.instagram %}
  {% if ig_url != blank %}
    <a
      href="{{ ig_url }}"
      class="inline-flex items-center gap-2 {{ icon_color}} {{ icon_background }} {{ icon_border }} {{ icon_wrapper_class }}"
      target="_blank"
      rel="noopener noreferrer"
    >
      <span class="sr-only">Instagram</span>
        {% render 'icon-svg-insta', class: icon_size, stroke_width: 0 %}
    </a>
  {% endif %}

  {% comment %} linkedin {% endcomment %}
  {% assign li_url = sl.linkedin.value | default: sl.linkedin %}
  {% if li_url != blank %}
    <a
      href="{{ li_url }}"
      class="inline-flex items-center gap-2 {{ icon_color}} {{ icon_background }} {{ icon_border }} {{ icon_wrapper_class }}"
      target="_blank"
      rel="noopener noreferrer"
    >
      <span class="sr-only">LinkedIn</span>
      {% render 'icon-svg-linkedin', class: icon_size, stroke_width: 0 %}
    </a>
  {% endif %}
  {% comment %} youtube {% endcomment %}
  {% assign yt_url = sl.youtube.value | default: sl.youtube %}
  {% if yt_url != blank %}
    <a
      href="{{ yt_url }}"
      class="inline-flex items-center gap-2 {{ icon_color}} {{ icon_background }} {{ icon_border }} {{ icon_wrapper_class }}"
      target="_blank"
      rel="noopener noreferrer"
    >
      <span class="sr-only">YouTube</span>
      {% render 'icon-svg-youtube', class: icon_size, stroke_width: 0 %}
    </a>
  {% endif %}
  {% comment %} tiktok {% endcomment %}
  {% assign tt_url = sl.tiktok.value | default: sl.tiktok %}
  {% if tt_url != blank %}
    <a
      href="{{ tt_url }}"
      class="inline-flex items-center gap-2 {{ icon_color}} {{ icon_background }} {{ icon_border }} {{ icon_wrapper_class }}"
      target="_blank"
      rel="noopener noreferrer"
    >
      <span class="sr-only">TikTok</span>
      {% render 'icon-svg-tiktok', class: icon_size, stroke_width: 0 %}
    </a>
  {% endif %}
{%- endif -%}

{%- comment -%} Manual social blocks (fallback or override) {%- endcomment -%}
{%- for block in section.blocks -%}
  {% if block.type == 'social' and block.settings.url != blank %}
    <a
      href="{{ block.settings.url }}"
      class="inline-flex items-center gap-2 {{ icon_color}} {{ icon_background }} {{ icon_border }} {{ icon_wrapper_class }}"
      target="_blank"
      rel="noopener noreferrer"
    >
      <span class="sr-only">{{ block.settings.label }}</span>
      {% case block.settings.icon %}
        {% when 'instagram' %}
          <svg class="{{ icon_size }}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
            <path fill="currentColor" d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"></path>
          </svg>
        {% when 'facebook' %}
          <svg class="{{ icon_size }}" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M15.75 8C15.75 9.91667 15.125 11.6042 13.875 13.0625C12.625 14.5 11.0729 15.3646 9.21875 15.6562V10.25H11.0312L11.375 8H9.21875V6.53125C9.21875 5.73958 9.63542 5.34375 10.4688 5.34375H11.4375V3.4375C10.8542 3.33333 10.2812 3.28125 9.71875 3.28125C9.11458 3.28125 8.59375 3.39583 8.15625 3.625C7.73958 3.85417 7.40625 4.19792 7.15625 4.65625C6.90625 5.11458 6.78125 5.65625 6.78125 6.28125V8H4.8125V10.25H6.78125V15.6562C4.92708 15.3646 3.375 14.5 2.125 13.0625C0.875 11.6042 0.25 9.91667 0.25 8C0.25 5.85417 1 4.03125 2.5 2.53125C4.02083 1.01042 5.85417 0.25 8 0.25C10.1458 0.25 11.9688 1.01042 13.4688 2.53125C14.9896 4.03125 15.75 5.85417 15.75 8Z" fill="currentColor"></path>
          </svg>
        {% when 'twitter' %}
          <svg class="{{ icon_size }}" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path d="M22 5.924c-.63.28-1.3.47-2 .55a3.48 3.48 0 001.53-1.92 6.95 6.95 0 01-2.2.84 3.47 3.47 0 00-5.92 3.16A9.85 9.85 0 013 4.89a3.47 3.47 0 001.07 4.63 3.44 3.44 0 01-1.57-.43v.04a3.47 3.47 0 002.78 3.4 3.5 3.5 0 01-1.56.06 3.48 3.48 0 003.24 2.41A6.97 6.97 0 012 19.54a9.83 9.83 0 005.32 1.56c6.38 0 9.87-5.28 9.87-9.86v-.45A7.06 7.06 0 0022 5.924z"/>
          </svg>
        {% when 'linkedin' %}
          <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
            <path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path>
          </svg>
        {% else %}
          <svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <circle cx="12" cy="12" r="10"/>
          </svg>
      {% endcase %}
    </a>
  {% endif %}
{%- endfor -%}
