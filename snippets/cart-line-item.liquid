<tr class="border-b border-grey">
  <td class="py-4 flex items-center space-x-4">
   <div class="hidden">
    <pre> {{ item | json }}</pre> 
   </div>
    {% if item.image %}
      <img src="{{ item.image | img_url: '200x200' }}" alt="{{ item.title }}" class="w-26 h-26 object-cover rounded">
    {% endif %}
    <div>
      <div class="text-sm font-semibold">{{ item.title }}</div>
            {% comment %} Only show option list when at least one option value is meaningful (not 'Default Title') {% endcomment %}
            {% assign show_options = false %}
            {% if item.options_with_values %}
              {% for opt in item.options_with_values %}
                {% if opt.value and opt.value != 'Default Title' %}
                  {% assign show_options = true %}
                {% endif %}
              {% endfor %}
            {% endif %}

            {% if show_options %}
              <div class="text-sm text-gray-600">
                {% for opt in item.options_with_values %}
                  <span class="block">{{ opt.name }}: {{ opt.value }}</span>
                {% endfor %}
              </div>
              
            {% elsif item.variant.title != 'Default Title' %}
              <div class="text-sm text-gray-600">{{ item.variant.title }}</div>
            {% endif %}
            <div class="mt-2">
                <button type="button" class="cursor-pointer cart-item-remove text-gray-700 flex items-center gap-2" data-line="{{ index }}" aria-label="Remove item">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-trash2-icon"><path d="M10 11v6"/><path d="M14 11v6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"/><path d="M3 6h18"/><path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg>
                </button>
              </div>
    </div>
  </td>
  <td class="py-4">{{ item.price | money }}</td>
  <td class="py-4">
    <div class="flex items-center space-x-2">
      <cart-qty-control data-line="{{ index }}" data-quantity="{{ item.quantity }}"></cart-qty-control>
      <noscript>
        <form action="{{ routes.cart_change_url }}" method="post" class="inline-flex items-center">
          <input type="hidden" name="line" value="{{ index }}">
          <input type="number" name="quantity" min="0" value="{{ item.quantity }}" class="w-20 border rounded p-1">
          <button type="submit" class="ml-2 text-sm bg-gray-100 px-3 py-1 rounded">Update</button>
        </form>
      </noscript>
    </div>
  </td>
  <td class="py-4">{{ item.final_line_price | money }}</td>
</tr>
