{% comment %}
  Reusable pagination snippet
  Usage: {% render 'pagination', paginate: paginate, base_url: collection.url %}
  Optional params: `page_param` (default: 'page')
{% endcomment %}

{% assign page_param = page_param | default: 'page' %}
{% assign total = paginate.pages %}
{% assign current = paginate.current_page %}

<div class="mt-8 flex items-center justify-between">
  <div>
    {% if paginate.previous %}
      <a
        href="{{ paginate.previous.url }}"
        class="flex px-3 py-1 bg-grey rounded hover:bg-primary"
        aria-label="Previous page"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="size-6"
        >
          <path d="m15 18-6-6 6-6"/>
        </svg>
      </a>
    {% endif %}
  </div>

  <div class="flex items-center gap-2">
    {%- if paginate.parts.size > 0 -%}
      {% for part in paginate.parts %}
        {% if part.is_link %}
          <a href="{{ part.url }}" class="px-3 py-1 bg-gray-100 rounded hover:bg-primary">{{ part.title }}</a>
        {% else %}
          {% if part.title == paginate.current_page %}
            <span class="px-3 py-1 bg-primary text-white rounded">{{ part.title }}</span>
          {% else %}
            <span class="px-3">{{ part.title }}</span>
          {% endif %}
        {% endif %}
      {% endfor %}
    {%- endif -%}
  </div>

  <div>
    {% if paginate.next %}
      <a href="{{ paginate.next.url }}" class="flex px-3 py-1 bg-grey rounded hover:bg-primary" aria-label="Next page">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="size-6"
        >
          <path d="m9 18 6-6-6-6"/>
        </svg>
      </a>
    {% endif %}
  </div>
</div>
