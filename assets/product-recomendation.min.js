class ProductRecommendation extends HTMLElement{constructor(){super()}connectedCallback(){this.requestUrl=this.getAttribute("data-url"),this.fetchRecommendations()}disconnectedCallback(){}async fetchRecommendations(){let e=this.querySelector(".product-recommendations");e||(e=document.createElement("div"),e.className="product-recommendations",this.appendChild(e));try{const t=await fetch(`${window.Shopify.routes.root}recommendations/products${this.requestUrl}`),n=await t.text(),o=document.createElement("div");o.innerHTML=n;const c=o.querySelector(".product-recommendations");if(!c||!c.innerHTML.trim())return;const d=c.cloneNode(!0);d.querySelectorAll("product-recommendations").forEach(e=>e.remove()),e.innerHTML=d.innerHTML;if(document.getElementById("productRecommendationGlide")&&"undefined"!=typeof Glide){if(window.productRecommendationGlideInstance){try{window.productRecommendationGlideInstance.destroy()}catch(e){}window.productRecommendationGlideInstance=null}window.productRecommendationGlideInstance=new Glide("#productRecommendationGlide",{type:"slider",startAt:0,perView:4,rewind:!1,gap:10,bound:!0,breakpoints:{1024:{perView:3},768:{perView:2},480:{perView:1}}}),window.productRecommendationGlideInstance.mount()}}catch(e){console.error("Failed to fetch recommendations",e)}}}customElements.define("product-recommendations",ProductRecommendation);