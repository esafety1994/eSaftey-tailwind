document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("site-sheet"),t=document.getElementById("sheet-overlay"),n=document.getElementById("sheet-close"),r=null;function a(e){try{var t=document.querySelectorAll(".mega-item-link.root-active");t&&t.length&&t.forEach(function(e){e.classList.remove("root-active")}),e&&e.classList&&e.classList.add("root-active")}catch(e){}}function o(e,t){void 0===t&&(t=!0);try{if(!window.matchMedia("(min-width:768px)").matches)return 0;var n=document.getElementById("site-header");if(n)try{var r=n.getBoundingClientRect(),a=Math.round(r.bottom||0);if(!a||a<=1){var o=n.offsetHeight||r.height||0;a=Math.round((r.top||0)+o)}return Math.max(0,a+0)}catch(e){}var l=document.getElementById("main");if(l){var c=l.getBoundingClientRect();return Math.max(0,Math.floor(c.top)+0)}if(e&&"function"==typeof e.getBoundingClientRect){var s=e.getBoundingClientRect();return Math.max(0,Math.floor(s.top)+0)}}catch(e){}return 0}function l(n){try{console.log&&console.log("[nav] openNavSheet called",{sheet:!!e,overlay:!!t,trigger:!!n})}catch(e){}if(y(n),e&&t){r=document.activeElement;try{var a=e.querySelector(".sheet-content"),l=window.matchMedia("(min-width:768px)").matches;if(a)if(l){if(n&&"function"==typeof n.getBoundingClientRect)try{var c=o(n,!1);e.style.top=c+"px",e.style.height="calc(100vh - "+c+"px)",a.style.marginTop=""}catch(e){}}else a.style.marginTop="",e.style.top="",e.style.height="";else;}catch(e){}e.classList.add("open");try{console.log&&console.log("[nav] sheet open class added")}catch(e){}e.classList.remove("collapsed-root");try{var s=e.querySelectorAll&&e.querySelectorAll(".mega-item-link.root-active");s&&s.length&&s.forEach(function(e){e.classList.remove("root-active")})}catch(e){}e.setAttribute("aria-hidden","false"),t.classList.remove("hidden"),t.classList.add("visible");try{window&&"function"==typeof window.lockScroll&&window.lockScroll()}catch(e){}n&&"function"==typeof n.setAttribute&&n.setAttribute("aria-expanded","true"),setTimeout(function(){!function(e){if(e){var t=e.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');t&&t.focus()}}(e)},10)}else try{console.log&&console.log("[nav] openNavSheet missing sheet/overlay",{sheet:e,overlay:t})}catch(e){}}function c(n){try{console.log&&console.log("[nav] closeNavSheet called",{sheet:!!e,overlay:!!t,trigger:!!n})}catch(e){}if(e&&t){try{if(n&&"function"==typeof n.setAttribute)try{n.setAttribute("aria-expanded","false")}catch(e){}}catch(e){}e.classList.remove("open"),t.classList.remove("visible"),t.classList.add("hidden");try{var a=e.querySelector(".sheet-content"),o=!1,l=function(t){if(!(t&&t.propertyName&&-1===t.propertyName.indexOf("transform")||o)){o=!0;try{a&&(a.style.marginTop="")}catch(e){}try{e.style.top="",e.style.height=""}catch(e){}try{e.classList.remove("collapsed-root")}catch(e){}try{var n=e.querySelectorAll&&e.querySelectorAll(".mega-item-link.root-active");n&&n.length&&n.forEach(function(e){e.classList.remove("root-active")})}catch(e){}try{e.setAttribute("aria-hidden","true")}catch(e){}try{r&&"function"==typeof r.focus&&r.focus()}catch(e){}try{window&&"function"==typeof window.unlockScroll&&window.unlockScroll()}catch(e){}try{a.removeEventListener("transitionend",l)}catch(e){}}};a?(a.addEventListener("transitionend",l),setTimeout(l,600)):l()}catch(t){try{e.style.top="",e.style.height=""}catch(e){}try{e.classList.remove("collapsed-root")}catch(e){}try{r&&"function"==typeof r.focus&&r.focus()}catch(e){}}}else try{console.log&&console.log("[nav] closeNavSheet missing sheet/overlay",{sheet:e,overlay:t})}catch(e){}}var s=document.querySelectorAll&&document.querySelectorAll(".shop-trigger");function i(e){try{return!!e&&(null!==e.offsetParent&&(!e.getClientRects||0!==e.getClientRects().length))}catch(e){return!1}}function d(){try{var e=document.querySelectorAll(".shop-trigger");if(!e||!e.length)return null;for(var t=0;t<e.length;t++)if(i(e[t]))return e[t];return e[0]}catch(e){var n=document.querySelectorAll&&document.querySelectorAll(".shop-trigger");return n&&n.length?n[0]:null}}function u(){try{var e=document.querySelector('.shop-trigger[aria-expanded="true"]');return e||d()}catch(e){return d()}}function y(r){try{var a=function(e){try{if(!e)return{sheet:document.getElementById("site-sheet"),overlay:document.getElementById("sheet-overlay"),closeBtn:document.getElementById("sheet-close")};for(var t=e;t;){try{if(t.querySelector){var n=t.querySelector("#site-sheet");if(n)return{sheet:n,overlay:t.querySelector("#sheet-overlay"),closeBtn:t.querySelector("#sheet-close")}}}catch(e){}t=t.parentElement}return{sheet:document.getElementById("site-sheet"),overlay:document.getElementById("sheet-overlay"),closeBtn:document.getElementById("sheet-close")}}catch(e){return{sheet:document.getElementById("site-sheet"),overlay:document.getElementById("sheet-overlay"),closeBtn:document.getElementById("sheet-close")}}}(r)||{};e=a.sheet||document.getElementById("site-sheet"),t=a.overlay||document.getElementById("sheet-overlay"),n=a.closeBtn||document.getElementById("sheet-close")}catch(e){}}if(s&&s.length){s.forEach(function(e){try{e.addEventListener("click",function(t){try{console.log&&console.log("[nav] trigger clicked",e)}catch(e){}t.preventDefault(),y(e),l(e)}),e.addEventListener("keydown",function(t){"Enter"!==t.key&&" "!==t.key&&"Spacebar"!==t.key||(t.preventDefault(),l(e))})}catch(e){}});try{console.log&&console.log("[nav] triggers attached",s.length,"visible->",d())}catch(e){}}function h(t,n,r,a,l){if(!e)return null;var c=e&&e.classList&&e.classList.contains("collapsed-root");if(l&&window.matchMedia("(min-width:768px)").matches){var s=l&&l.closest?l.closest(".mega-menu"):null,i=l&&l.closest&&l.closest(".desktop-subpanel")?2:1,d=function(){var e=null;if(1===i)e=null;else{var a=document.querySelector(".desktop-subpanel.panel-level-1");a?e=a.getBoundingClientRect():s&&(e=s.getBoundingClientRect())}var c=document.createElement("div");c.className="sheet-subpanel desktop-subpanel",c.classList.add("panel-level-"+i),c.setAttribute("role","dialog"),c.style.position="fixed";try{var d=o(l);c.style.top=d+"px",c.style.height="calc(100vh - "+d+"px)"}catch(e){c.style.top="0"}var u=1===i?102:e?e.right:160;c.style.left=u+"px",c.style.width="0px",c.style.maxWidth="40%",c.style.height="100vh",c.style.transform="translateX(-10px)",c.style.transition="width 180ms cubic-bezier(.2,.9,.2,1), transform 180ms cubic-bezier(.2,.9,.2,1)",c.style.pointerEvents="auto",c.style.boxShadow="0 6px 18px rgba(0,0,0,0.12)",c.style.zIndex=2e3,c.style.boxSizing="border-box";var y=document.createElement("div");y.className="p-4 border-b flex items-center justify-between",y.innerHTML='<div class="flex-1 px-3"><strong class="block capitalize">'+(t||"")+'</strong></div><a class="view-all font-semibold underline capitalize" href="'+(n||"#")+'">View all</a>';var h=document.createElement("div");h.className="subpanel-body overflow-y-auto h-full";try{var v=void 0!==d&&d>0?d:56;h.style.height="calc(100vh - "+v+"px)"}catch(e){h.style.height="calc(100vh - 56px)"}h.innerHTML=r||"",c.appendChild(y),c.appendChild(h),document.body.appendChild(c);try{c.dataset.srcIdx=l&&l.getAttribute&&l.getAttribute("data-index")||""}catch(e){}c.dataset.level=String(i),requestAnimationFrame(function(){try{var e=Math.floor(.4*window.innerWidth),t=Math.min(360,Math.max(220,e));c.style.width=t+"px",c.style.transform="translateX(0)"}catch(e){c.style.transform="translateX(0)",c.style.width="360px"}});var f=c.querySelector(".subpanel-close");f&&f.addEventListener("click",function(e){e.preventDefault(),m(c)});var g=function(e){try{if(c.contains(e.target))return;if(s&&s.contains(e.target))return;if(e.target&&e.target.closest&&e.target.closest(".desktop-subpanel"))return;m(c)}catch(e){try{m(c)}catch(e){}}};return document.addEventListener("mousedown",g),c._outsideHandler=g,c.dataset.desktop="true",c};if(1===i){var u=document.querySelectorAll(".desktop-subpanel");u&&u.length&&u.forEach(function(e){try{e.style.transition="",e.style.display="none",e._outsideHandler&&document.removeEventListener("mousedown",e._outsideHandler),e.parentElement&&e.parentElement.removeChild(e)}catch(e){}})}var y=document.querySelector(".desktop-subpanel.panel-level-"+i);if(y){var h=l&&l.getAttribute?l.getAttribute("data-index"):"";if(y.dataset&&y.dataset.srcIdx===h){m(y);try{if(s){var v=s.querySelector(".mega-item-link.root-active");v&&v.classList.remove("root-active")}}catch(e){}try{e&&1===i&&e.classList.remove("collapsed-root")}catch(e){}try{2===i&&c&&e.classList.add("collapsed-root")}catch(e){}return y}m(y,function(){d()});try{2===i&&c&&e.classList.add("collapsed-root")}catch(e){}return null}var f=d();try{2===i&&c&&e.classList.add("collapsed-root")}catch(e){}return f}var g=e.querySelector(".subpanel-container");if(!g){(g=document.createElement("div")).className="subpanel-container",g.style.position="absolute",g.style.background="#f5f4f4",g.style.top=0,g.style.left=0,g.style.width="100%",g.style.height="100%",g.style.pointerEvents="none";var p=e.querySelector(".sheet-content");p&&p.appendChild(g)}var b=document.createElement("div");b.className="sheet-subpanel",b.setAttribute("role","dialog"),b.style.position="absolute",b.style.top=0,b.style.left=0,b.style.width="100%",b.style.height="100vh",b.style.background="inherit",b.style.pointerEvents="auto",b.style.transform="translateX(100%)",b.style.transition="transform 180ms cubic-bezier(.2,.9,.2,1)",b.style.zIndex=10;var E=document.createElement("div");E.className="p-4 border-b flex items-center justify-between",E.innerHTML='<button class="subpanel-back p-2">‚Üê</button><div class="flex-1 px-3"><strong class="block capitalize">'+(t||"")+'</strong></div><a class="view-all font-semibold underline capitalize" href="'+(n||"#")+'">View all</a>';var w=document.createElement("div");w.className="subpanel-body overflow-y-auto h-full",w.innerHTML=r||"",b.appendChild(E),b.appendChild(w),g.appendChild(b),requestAnimationFrame(function(){b.style.transform="translateX(0)"});var x=b.querySelector(".subpanel-back");return x&&x.addEventListener("click",function(e){e.preventDefault(),m(b)}),b}function m(e,t){if(e)if(e.dataset&&"true"===e.dataset.desktop){e._outsideHandler&&document.removeEventListener("mousedown",e._outsideHandler);try{e.style.transition="width 180ms cubic-bezier(.2,.9,.2,1), transform 180ms cubic-bezier(.2,.9,.2,1), opacity 0ms linear 0ms",e.style.opacity="0",e.style.width="0px",e.style.transform="translateX(-30px)"}catch(e){}var n=function(){try{e.removeEventListener("transitionend",n)}catch(e){}if(e.parentElement){var r=e.dataset&&e.dataset.srcIdx?e.dataset.srcIdx:null;if(r){var a=document.querySelectorAll('.mega-item-link[data-index="'+r+'"]');a&&a.length&&a.forEach(function(e){e.classList.remove("root-active")})}e.parentElement.removeChild(e)}try{"function"==typeof t&&t()}catch(e){}};try{e.addEventListener("transitionend",n)}catch(n){setTimeout(function(){e.parentElement&&e.parentElement.removeChild(e);try{"function"==typeof t&&t()}catch(e){}},300)}}else{try{e.style.transition="transform 180ms cubic-bezier(.2,.9,.2,1), opacity 0ms linear 0ms",e.style.opacity="0",e.style.transform="translateX(100%)"}catch(e){}var r=function(){try{e.removeEventListener("transitionend",r)}catch(e){}var n=e.parentElement;e.parentElement&&e.parentElement.removeChild(e),n&&0===n.children.length&&n.remove();try{"function"==typeof t&&t()}catch(e){}};try{e.addEventListener("transitionend",r)}catch(e){setTimeout(r,300)}}else try{"function"==typeof t&&t()}catch(e){}}document.addEventListener("click",function(e){var t=e.target.closest?e.target.closest(".shop-trigger"):null;t&&(e.preventDefault(),y(t),l(t))}),document.addEventListener("click",function(t){try{if(!e||!e.classList||!e.classList.contains("collapsed-root"))return;var n=t.target;if(n&&n.closest&&n.closest(".mega-item-link"))return;if(n&&n.closest&&n.closest(".desktop-subpanel"))return;if(e.contains(n)){try{e.classList.remove("collapsed-root")}catch(e){}try{a(null)}catch(e){}}}catch(e){}},!0),document.addEventListener("mousedown",function(e){try{if(0!==e.button||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey)return;var t=e.target.closest&&e.target.closest(".mega-item-link");if(!t)return;var n=t.getAttribute("data-index"),r=t.closest&&t.closest(".mega-menu"),a=null;r&&(a=r.querySelector("#mega-"+n)),a||(a=document.getElementById("mega-"+n)),a&&(e.preventDefault(),e.stopPropagation())}catch(e){}},!0),document.addEventListener("click",function(t){var n=t.target.closest&&t.target.closest(".mega-item-link");if(n){var r=n.getAttribute("data-has-children"),o=n.getAttribute("data-index"),c=null;if((k=n.closest&&n.closest(".mega-menu"))&&(c=k.querySelector("#mega-"+o)),c||(c=document.getElementById("mega-"+o)),"true"===r||!!c){t.preventDefault(),t.stopPropagation();var s=n.getAttribute("data-title")||n.textContent.trim(),i=n&&n.closest&&n.closest(".mega-panel"),d=!1;try{d=!!(n&&n.closest&&n.closest(".desktop-subpanel"))}catch(e){d=!1}var u=n&&n.closest&&n.closest(".mega-menu");if(!(!u||u.closest&&u.closest(".desktop-subpanel"))&&!(i||d)&&window.matchMedia("(min-width:768px)").matches){var y=n.getAttribute("data-index"),v=n.closest&&n.closest(".mega-menu"),f=v?v.querySelector(".mega-item-link.root-active"):null;if(e&&e.classList.contains("collapsed-root")){if(f===n){try{var g=document.querySelectorAll(".desktop-subpanel");if(g&&g.length)for(var p=0;p<g.length;p++){var b=g[p];b&&b.dataset&&b.dataset.srcIdx===y&&m(b)}}catch(t){}try{a(null)}catch(t){}return void e.classList.remove("collapsed-root")}if(f&&f!==n){try{var E=f.getAttribute&&f.getAttribute("data-index"),w=document.querySelectorAll(".desktop-subpanel");if(w&&w.length)for(var x=0;x<w.length;x++){var L=w[x];L&&L.dataset&&L.dataset.srcIdx===E&&m(L)}}catch(t){}try{f.classList.remove("root-active")}catch(t){}}a(n)}else{if(e&&e.classList.add("collapsed-root"),v)v.querySelectorAll(".mega-item-link.root-active").forEach(function(e){e!==n&&e.classList.remove("root-active")});a(n)}}var k;c=null;(k=n.closest&&n.closest(".mega-menu"))&&(c=k.querySelector("#mega-"+o)),c||(c=document.getElementById("mega-"+o));var S=c?c.innerHTML:"",q=null;try{q=k&&k.querySelector?k.querySelector(".shop-trigger"):null}catch(t){q=null}q||(q=document.querySelector(".shop-trigger"));var A=n.getAttribute("data-href")||n.getAttribute("href");window.matchMedia("(min-width:768px)").matches||l(q),h(s,A,S,0,n)}}},!0),n&&n.addEventListener("click",function(e){e.preventDefault(),c(u())}),t&&t.addEventListener("click",function(){c(u())}),document.addEventListener("keydown",function(e){"Escape"===e.key&&c(u())})}),window.navigation=window.navigation||{},window.navigation.open=function(){try{console.log&&console.log("[nav] window.navigation.open called")}catch(e){}var e=findVisibleTrigger&&findVisibleTrigger();try{e&&console.log&&console.log("[nav] window.navigation.open -> clicking",e)}catch(e){}return e&&e.click()};